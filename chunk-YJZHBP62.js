import{J as i,a as u,b as a,h as c}from"./chunk-T7TK6TUY.js";var h=(()=>{class o{constructor(){this.STORAGE_KEY="cursos",this.cursosSubject=new c([]),this.cargarCursos()}cargarCursos(){let r=localStorage.getItem(this.STORAGE_KEY);if(r){let s=JSON.parse(r);this.cursosSubject.next(s)}else{let s=[{id:1,nombre:"Matem\xE1ticas Avanzadas",descripcion:"Curso avanzado de matem\xE1ticas",profesor:"Dr. Garc\xEDa",duracion:60,alumnos:[],cupo:30},{id:2,nombre:"Programaci\xF3n Web",descripcion:"Desarrollo web moderno",profesor:"Ing. Mart\xEDnez",duracion:40,alumnos:[],cupo:25}];this.cursosSubject.next(s),this.guardarCursos()}}guardarCursos(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.cursosSubject.value))}getCursos(){return this.cursosSubject.asObservable()}getCursoById(r){return this.cursosSubject.value.find(s=>s.id===r)}generarNuevoId(){let r=this.cursosSubject.value;return r.length>0?Math.max(...r.map(s=>s.id))+1:1}agregarCurso(r){let s=a(u({},r),{id:this.generarNuevoId(),alumnos:[]}),t=[...this.cursosSubject.value,s];this.cursosSubject.next(t),this.guardarCursos()}actualizarCurso(r){let s=this.cursosSubject.value.map(t=>t.id===r.id?r:t);this.cursosSubject.next(s),this.guardarCursos()}eliminarCurso(r){let s=this.cursosSubject.value.filter(t=>t.id!==r);this.cursosSubject.next(s),this.guardarCursos()}agregarAlumno(r,s){let t=this.cursosSubject.value.map(e=>e.id===r&&!e.alumnos.includes(s)?a(u({},e),{alumnos:[...e.alumnos,s]}):e);this.cursosSubject.next(t),this.guardarCursos()}removerAlumno(r,s){let t=this.cursosSubject.value.map(e=>e.id===r?a(u({},e),{alumnos:e.alumnos.filter(n=>n!==s)}):e);this.cursosSubject.next(t),this.guardarCursos()}static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{h as a};
