import{a as G}from"./chunk-C6H2JVRG.js";import{a as R,b as T,c as A,d as O,e as H,f as B,g as P,h as $,i as j,j as k,k as F}from"./chunk-LHPFZ6HT.js";import{a as b,b as y}from"./chunk-AH55HQJT.js";import{a as z}from"./chunk-IXEVMI5O.js";import{a as q}from"./chunk-YJZHBP62.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ab as x,Ba as s,Fb as N,Fc as w,Ic as L,Ja as o,Ka as a,La as C,Ma as p,Na as u,Nb as E,Ob as I,Sa as M,a as h,ab as r,b as v,bb as _,db as S,ja as l,kb as D,na as d,sa as g,xa as c}from"./chunk-T7TK6TUY.js";var J=(t,i)=>["/notas/editar",t,i];function K(t,i){t&1&&(o(0,"th",11),r(1,"Alumno"),a())}function Q(t,i){if(t&1&&(o(0,"td",12),r(1),a()),t&2){let e=i.$implicit;l(),_(e.nombreAlumno)}}function U(t,i){t&1&&(o(0,"th",11),r(1,"Curso"),a())}function V(t,i){if(t&1&&(o(0,"td",12),r(1),a()),t&2){let e=i.$implicit;l(),_(e.nombreCurso)}}function W(t,i){t&1&&(o(0,"th",11),r(1,"Calificaci\xF3n"),a())}function X(t,i){if(t&1&&(o(0,"td",13),r(1),a()),t&2){let e=i.$implicit,n=M();s("ngClass",n.getCalificacionColor(e.calificacion)),l(),S(" ",e.calificacion," - ",n.getCalificacionEstado(e.calificacion)," ")}}function Y(t,i){t&1&&(o(0,"th",11),r(1,"Acciones"),a())}function Z(t,i){if(t&1&&(o(0,"td",12)(1,"button",14)(2,"mat-icon"),r(3,"edit"),a()()()),t&2){let e=i.$implicit;l(),s("routerLink",D(1,J,e.alumnoId,e.cursoId))}}function tt(t,i){t&1&&C(0,"tr",15)}function et(t,i){t&1&&C(0,"tr",16)}var _t=(()=>{class t{constructor(e,n,m,f){this.notasService=e,this.alumnosService=n,this.cursosService=m,this.router=f,this.displayedColumns=["alumno","curso","calificacion","acciones"],this.notasConDetalles=[]}ngOnInit(){this.cargarNotas()}cargarNotas(){this.notasService.getNotas().subscribe(e=>{this.notasConDetalles=e.map(n=>{let m=this.alumnosService.getAlumnoById(n.alumnoId),f=this.cursosService.getCursoById(n.cursoId);return v(h({},n),{nombreAlumno:m?`${m.nombre} ${m.apellido}`:"Alumno no encontrado",nombreCurso:f?f.nombre:"Curso no encontrado"})})})}getCalificacionColor(e){return e>=3?"success":"danger"}getCalificacionEstado(e){return e>=3?"APROBADO":"REPROBADO"}static{this.\u0275fac=function(n){return new(n||t)(d(G),d(z),d(q),d(E))}}static{this.\u0275cmp=g({type:t,selectors:[["app-lista-notas"]],decls:18,vars:3,consts:[[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","alumno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","curso"],["matColumnDef","calificacion"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],["mat-icon-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,m){n&1&&(o(0,"div",0)(1,"h2"),r(2,"Lista de Notas"),a(),o(3,"table",1),p(4,2),c(5,K,2,0,"th",3)(6,Q,2,1,"td",4),u(),p(7,5),c(8,U,2,0,"th",3)(9,V,2,1,"td",4),u(),p(10,6),c(11,W,2,0,"th",3)(12,X,2,3,"td",7),u(),p(13,8),c(14,Y,2,0,"th",3)(15,Z,4,4,"td",4),u(),c(16,tt,1,0,"tr",9)(17,et,1,0,"tr",10),a()()),n&2&&(l(3),s("dataSource",m.notasConDetalles),l(13),s("matHeaderRowDef",m.displayedColumns),l(),s("matRowDefColumns",m.displayedColumns))},dependencies:[N,x,F,R,A,P,O,T,$,H,B,j,k,L,w,y,b,I],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}table[_ngcontent-%COMP%]{width:100%}.success[_ngcontent-%COMP%]{color:green}.danger[_ngcontent-%COMP%]{color:red}"]})}}return t})();export{_t as ListaNotasComponent};
