import{a as Y}from"./chunk-ZYFWBFSW.js";import{a as X}from"./chunk-7PZUZWVI.js";import{a as k,b as R,c as V,e as A,f as H,g as $}from"./chunk-3YUSJBQI.js";import{a as B,b as O,c as F,d as P,e as q,f as z,g as G,h as J,i as K,j as Q,k as W}from"./chunk-LHPFZ6HT.js";import{a as j,b as N}from"./chunk-AH55HQJT.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ba as u,Cb as E,Fb as L,Fc as D,Hc as I,Ic as y,Ja as i,K as w,Ka as n,La as v,Ma as f,Na as C,Nb as T,Pa as x,Ra as h,Rb as U,S as p,Sa as c,T as _,ab as r,cb as M,ja as m,na as b,sa as S,ta as g,xa as l}from"./chunk-T7TK6TUY.js";function et(t,o){t&1&&(i(0,"th",10),r(1," Nombre "),n())}function it(t,o){if(t&1&&(i(0,"td",11),r(1),n()),t&2){let e=o.$implicit;m(),M(" ",e.nombre," ")}}function nt(t,o){t&1&&(i(0,"th",10),r(1," Email "),n())}function ot(t,o){if(t&1&&(i(0,"td",11),r(1),n()),t&2){let e=o.$implicit;m(),M(" ",e.email," ")}}function at(t,o){t&1&&(i(0,"th",10),r(1," Rol "),n())}function rt(t,o){if(t&1&&(i(0,"td",11),r(1),n()),t&2){let e=o.$implicit;m(),M(" ",e.rol," ")}}function st(t,o){t&1&&(i(0,"th",10),r(1," Acciones "),n())}function mt(t,o){if(t&1){let e=x();i(0,"button",15),h("click",function(){p(e);let a=c().$implicit,d=c();return _(d.editarUsuario(a))}),i(1,"mat-icon"),r(2,"edit"),n()()}}function lt(t,o){if(t&1){let e=x();i(0,"button",16),h("click",function(){p(e);let a=c().$implicit,d=c();return _(d.eliminarUsuario(a))}),i(1,"mat-icon"),r(2,"delete"),n()()}}function ct(t,o){if(t&1){let e=x();i(0,"td",11)(1,"button",12),h("click",function(){let a=p(e).$implicit,d=c();return _(d.verDetalle(a))}),i(2,"mat-icon"),r(3,"visibility"),n()(),l(4,mt,3,0,"button",13)(5,lt,3,0,"button",14),n()}if(t&2){let e=c();m(4),u("ngIf",e.isAdmin),m(),u("ngIf",e.isAdmin)}}function ut(t,o){t&1&&v(0,"tr",17)}function dt(t,o){t&1&&v(0,"tr",18)}function pt(t,o){if(t&1){let e=x();i(0,"button",19),h("click",function(){p(e);let a=c();return _(a.nuevoUsuario())}),r(1," Nuevo Usuario "),n()}}var Z=(()=>{class t{constructor(e,s,a){this.authService=e,this.usuariosService=s,this.router=a,this.usuarios=[],this.columnas=["nombre","email","rol","acciones"],this.isAdmin=!1}ngOnInit(){this.isAdmin=this.authService.isAdmin(),this.cargarUsuarios()}cargarUsuarios(){this.usuariosService.getUsuarios().subscribe(e=>{this.usuarios=e})}verDetalle(e){}editarUsuario(e){this.router.navigate(["/usuarios/editar",e.id])}eliminarUsuario(e){confirm("\xBFEst\xE1 seguro que desea eliminar este usuario?")&&this.usuariosService.eliminarUsuario(e.id).subscribe(()=>{this.cargarUsuarios()})}nuevoUsuario(){this.router.navigate(["/usuarios/nuevo"])}static{this.\u0275fac=function(s){return new(s||t)(b(X),b(Y),b(T))}}static{this.\u0275cmp=S({type:t,selectors:[["app-lista-usuarios"]],decls:22,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","rol"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["mat-raised-button","","color","primary",3,"click"]],template:function(s,a){s&1&&(i(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),r(3,"Usuarios"),n()(),i(4,"mat-card-content")(5,"table",0),f(6,1),l(7,et,2,0,"th",2)(8,it,2,1,"td",3),C(),f(9,4),l(10,nt,2,0,"th",2)(11,ot,2,1,"td",3),C(),f(12,5),l(13,at,2,0,"th",2)(14,rt,2,1,"td",3),C(),f(15,6),l(16,st,2,0,"th",2)(17,ct,6,2,"td",3),C(),l(18,ut,1,0,"tr",7)(19,dt,1,0,"tr",8),n()(),i(20,"mat-card-actions"),l(21,pt,2,0,"button",9),n()()),s&2&&(m(5),u("dataSource",a.usuarios),m(13),u("matHeaderRowDef",a.columnas),m(),u("matRowDefColumns",a.columnas),m(2),u("ngIf",a.isAdmin))},dependencies:[L,E,U,W,B,F,G,P,O,J,q,z,K,Q,y,I,D,N,j,$,k,A,V,H,R],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{margin:20px}"]})}}return t})();var _t=[{path:"",component:Z}],kt=(()=>{class t{static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275mod=g({type:t})}static{this.\u0275inj=w({imports:[U.forChild(_t)]})}}return t})();export{kt as ListaUsuariosModule};
