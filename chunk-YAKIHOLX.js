import{a as H,b as z,c as J,d as K,f as Q,g as U}from"./chunk-3YUSJBQI.js";import{a as ee,b as ie}from"./chunk-BSRP6IBA.js";import{c as $}from"./chunk-VFJUGW5G.js";import"./chunk-BWIHQ5OF.js";import{f as T,g as j,h as A,i as D,j as B,p as P,r as k,t as R,y as W,z as q}from"./chunk-KXMWBQJZ.js";import"./chunk-62XFUPSB.js";import{a as Z}from"./chunk-W7WUBLB7.js";import{a as X}from"./chunk-IXEVMI5O.js";import{a as Y}from"./chunk-YJZHBP62.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{$a as C,Ba as l,Bb as F,Cb as w,Fb as E,Hc as L,Ic as G,Ja as r,Ka as a,Lb as V,Nb as O,Pa as M,Ra as v,S as p,Sa as _,T as d,ab as c,cb as h,db as I,eb as y,fb as N,gb as x,ja as s,na as m,sa as b,xa as g}from"./chunk-T7TK6TUY.js";function te(t,S){if(t&1&&(r(0,"mat-card-subtitle"),c(1),a()),t&2){let e=_();s(),I(" Alumno: ",e.alumno.nombre," ",e.alumno.apellido," ")}}function oe(t,S){if(t&1&&(r(0,"mat-option",10),c(1),a()),t&2){let e=S.$implicit;l("value",e.id),s(),h(" ",e.nombre," ")}}var Ce=(()=>{class t{constructor(e,o,i,n,u){this.route=e,this.router=o,this.alumnosService=i,this.cursosService=n,this.inscripcionesService=u,this.alumno=null,this.cursosDisponibles=[],this.cursoSeleccionado=null}ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id")),o=this.alumnosService.getAlumnoById(e);o?(this.alumno=o,this.cursosService.getCursos().subscribe(i=>{this.cursosDisponibles=i.filter(n=>!n.alumnos?.includes(e))})):this.router.navigate(["/alumnos"])}onSubmit(){this.alumno&&this.cursoSeleccionado&&this.inscripcionesService.inscribirAlumno(this.cursoSeleccionado,this.alumno.id).subscribe({next:()=>{this.router.navigate(["/alumnos"])},error:e=>{console.error("Error al inscribir alumno:",e)}})}cancelar(){this.router.navigate(["/alumnos"])}static{this.\u0275fac=function(o){return new(o||t)(m(V),m(O),m(X),m(Y),m(Z))}}static{this.\u0275cmp=b({type:t,selectors:[["app-nueva-inscripcion"]],decls:19,vars:4,consts:[["inscripcionForm","ngForm"],[1,"container"],[4,"ngIf"],[3,"ngSubmit"],["appearance","fill"],["name","curso","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(o,i){if(o&1){let n=M();r(0,"div",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),c(4,"Nueva Inscripci\xF3n"),a(),g(5,te,2,2,"mat-card-subtitle",2),a(),r(6,"mat-card-content")(7,"form",3,0),v("ngSubmit",function(){return p(n),d(i.onSubmit())}),r(9,"mat-form-field",4)(10,"mat-label"),c(11,"Seleccionar Curso"),a(),r(12,"mat-select",5),x("ngModelChange",function(f){return p(n),N(i.cursoSeleccionado,f)||(i.cursoSeleccionado=f),d(f)}),g(13,oe,2,2,"mat-option",6),a()(),r(14,"div",7)(15,"button",8),v("click",function(){return p(n),d(i.cancelar())}),c(16,"Cancelar"),a(),r(17,"button",9),c(18," Inscribir "),a()()()()()()}if(o&2){let n=C(8);s(5),l("ngIf",i.alumno),s(7),y("ngModel",i.cursoSeleccionado),s(),l("ngForOf",i.cursosDisponibles),s(4),l("disabled",!n.valid)}},dependencies:[E,F,w,U,H,J,Q,K,z,q,W,R,ie,ee,$,G,L,k,B,T,j,P,D,A],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:600px;margin:0 auto}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})}}return t})();export{Ce as NuevaInscripcionComponent};
