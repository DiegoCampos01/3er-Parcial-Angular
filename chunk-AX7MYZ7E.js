import{b as U,c as W}from"./chunk-2V7ITQDO.js";import{b as $}from"./chunk-BSRP6IBA.js";import"./chunk-VFJUGW5G.js";import"./chunk-BWIHQ5OF.js";import{b as P,d as a,f as D,g as w,j as V,k as j,l as B,m as G,p as R,q as k,s as z,t as H,u as J,y as K,z as Q}from"./chunk-KXMWBQJZ.js";import"./chunk-62XFUPSB.js";import{a as Z}from"./chunk-YJZHBP62.js";import"./chunk-3UGYG4GW.js";import"./chunk-VH5QYMKE.js";import{Ba as m,Cb as N,Fb as T,Hc as X,Ic as Y,Ja as t,Ka as r,La as d,Lb as L,Nb as O,Ra as _,a as M,ab as o,b as q,cb as g,ja as n,na as f,sa as A,xa as p}from"./chunk-T7TK6TUY.js";function ee(e,u){e&1&&(t(0,"mat-error"),o(1," El nombre es requerido "),r())}function re(e,u){e&1&&(t(0,"mat-error"),o(1," El nombre debe tener al menos 3 caracteres "),r())}function te(e,u){e&1&&(t(0,"mat-error"),o(1," La descripci\xF3n es requerida "),r())}function oe(e,u){e&1&&(t(0,"mat-error"),o(1," La descripci\xF3n debe tener al menos 10 caracteres "),r())}function ie(e,u){e&1&&(t(0,"mat-error"),o(1," El profesor es requerido "),r())}function ne(e,u){e&1&&(t(0,"mat-error"),o(1," El nombre del profesor debe tener al menos 3 caracteres "),r())}function me(e,u){e&1&&(t(0,"mat-error"),o(1," La duraci\xF3n es requerida "),r())}function ae(e,u){e&1&&(t(0,"mat-error"),o(1," La duraci\xF3n debe ser mayor a 0 "),r())}function le(e,u){e&1&&(t(0,"mat-error"),o(1," El cupo es requerido "),r())}function ue(e,u){e&1&&(t(0,"mat-error"),o(1," El cupo debe ser mayor a 0 "),r())}function se(e,u){e&1&&(t(0,"mat-error"),o(1," El cupo no puede ser mayor a 100 "),r())}var Se=(()=>{class e{constructor(s,l,i,c){this.fb=s,this.cursosService=l,this.router=i,this.route=c,this.esEdicion=!1,this.cursoId=null,this.cursoForm=this.fb.group({nombre:["",[a.required,a.minLength(3)]],descripcion:["",[a.required,a.minLength(10)]],profesor:["",[a.required,a.minLength(3)]],duracion:["",[a.required,a.min(1)]],cupo:[30,[a.required,a.min(1),a.max(100)]]})}ngOnInit(){let s=this.route.snapshot.paramMap.get("id");if(s){this.esEdicion=!0,this.cursoId=+s;let l=this.cursosService.getCursoById(this.cursoId);l&&this.cursoForm.patchValue(l)}}onSubmit(){if(this.cursoForm.valid){let s=this.cursoForm.value;if(this.esEdicion&&this.cursoId){let l=q(M({},s),{id:this.cursoId,alumnos:this.cursosService.getCursoById(this.cursoId)?.alumnos||[]});this.cursosService.actualizarCurso(l)}else this.cursosService.agregarCurso(s);this.router.navigate(["/cursos"])}}cancelar(){this.router.navigate(["/cursos"])}static{this.\u0275fac=function(l){return new(l||e)(f(k),f(Z),f(O),f(L))}}static{this.\u0275cmp=A({type:e,selectors:[["app-abm-cursos"]],decls:40,vars:15,consts:[[1,"container"],[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre","placeholder","Ingrese el nombre del curso","required",""],[4,"ngIf"],["matInput","","formControlName","descripcion","placeholder","Ingrese la descripci\xF3n del curso","rows","3","required",""],["matInput","","formControlName","profesor","placeholder","Ingrese el nombre del profesor","required",""],["matInput","","type","number","formControlName","duracion","placeholder","Ingrese la duraci\xF3n en horas","required",""],["matInput","","type","number","formControlName","cupo","placeholder","Ingrese el cupo m\xE1ximo","required",""],[1,"button-container"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(l,i){if(l&1&&(t(0,"div",0)(1,"h2"),o(2),r(),t(3,"form",1),_("ngSubmit",function(){return i.onSubmit()}),t(4,"mat-form-field",2)(5,"mat-label"),o(6,"Nombre del Curso"),r(),d(7,"input",3),p(8,ee,2,0,"mat-error",4)(9,re,2,0,"mat-error",4),r(),t(10,"mat-form-field",2)(11,"mat-label"),o(12,"Descripci\xF3n"),r(),d(13,"textarea",5),p(14,te,2,0,"mat-error",4)(15,oe,2,0,"mat-error",4),r(),t(16,"mat-form-field",2)(17,"mat-label"),o(18,"Profesor"),r(),d(19,"input",6),p(20,ie,2,0,"mat-error",4)(21,ne,2,0,"mat-error",4),r(),t(22,"mat-form-field",2)(23,"mat-label"),o(24,"Duraci\xF3n (horas)"),r(),d(25,"input",7),p(26,me,2,0,"mat-error",4)(27,ae,2,0,"mat-error",4),r(),t(28,"mat-form-field",2)(29,"mat-label"),o(30,"Cupo m\xE1ximo"),r(),d(31,"input",8),p(32,le,2,0,"mat-error",4)(33,ue,2,0,"mat-error",4)(34,se,2,0,"mat-error",4),r(),t(35,"div",9)(36,"button",10),_("click",function(){return i.cancelar()}),o(37,"Cancelar"),r(),t(38,"button",11),o(39),r()()()()),l&2){let c,h,b,C,E,v,I,x,F,S,y;n(2),g("",i.esEdicion?"Editar":"Nuevo"," Curso"),n(),m("formGroup",i.cursoForm),n(5),m("ngIf",(c=i.cursoForm.get("nombre"))==null?null:c.hasError("required")),n(),m("ngIf",(h=i.cursoForm.get("nombre"))==null?null:h.hasError("minlength")),n(5),m("ngIf",(b=i.cursoForm.get("descripcion"))==null?null:b.hasError("required")),n(),m("ngIf",(C=i.cursoForm.get("descripcion"))==null?null:C.hasError("minlength")),n(5),m("ngIf",(E=i.cursoForm.get("profesor"))==null?null:E.hasError("required")),n(),m("ngIf",(v=i.cursoForm.get("profesor"))==null?null:v.hasError("minlength")),n(5),m("ngIf",(I=i.cursoForm.get("duracion"))==null?null:I.hasError("required")),n(),m("ngIf",(x=i.cursoForm.get("duracion"))==null?null:x.hasError("min")),n(5),m("ngIf",(F=i.cursoForm.get("cupo"))==null?null:F.hasError("required")),n(),m("ngIf",(S=i.cursoForm.get("cupo"))==null?null:S.hasError("min")),n(),m("ngIf",(y=i.cursoForm.get("cupo"))==null?null:y.hasError("max")),n(4),m("disabled",!i.cursoForm.valid),n(),g(" ",i.esEdicion?"Actualizar":"Guardar"," ")}},dependencies:[T,N,z,V,P,j,D,w,R,B,G,Q,K,H,J,W,U,Y,X,$],styles:[".container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#333}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:20px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}textarea[_ngcontent-%COMP%]{min-height:100px}"]})}}return e})();export{Se as AbmCursosComponent};
