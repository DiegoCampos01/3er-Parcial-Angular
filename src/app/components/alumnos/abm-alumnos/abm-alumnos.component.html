<div class="container mt-4">
  <h2 appTituloGrande>{{ isEdit ? 'Editar Alumno' : 'Nuevo Alumno' }}</h2>
  <form [formGroup]="alumnoForm" (ngSubmit)="onSubmit()" class="mt-4">
    <div class="row">
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Nombre</mat-label>
          <input matInput formControlName="nombre">
          <mat-error *ngIf="alumnoForm.get('nombre')?.hasError('required')">
            El nombre es requerido
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Apellido</mat-label>
          <input matInput formControlName="apellido">
          <mat-error *ngIf="alumnoForm.get('apellido')?.hasError('required')">
            El apellido es requerido
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email">
          <mat-error *ngIf="alumnoForm.get('email')?.hasError('required')">
            El email es requerido
          </mat-error>
          <mat-error *ngIf="alumnoForm.get('email')?.hasError('email')">
            El email no es válido
          </mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Edad</mat-label>
          <input matInput type="number" formControlName="edad">
          <mat-error *ngIf="alumnoForm.get('edad')?.hasError('required')">
            La edad es requerida
          </mat-error>
          <mat-error *ngIf="alumnoForm.get('edad')?.hasError('min')">
            La edad mínima es 18 años
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Calificación</mat-label>
          <input matInput type="number" step="0.1" formControlName="calificacion">
          <mat-error *ngIf="alumnoForm.get('calificacion')?.hasError('required')">
            La calificación es requerida
          </mat-error>
          <mat-error *ngIf="alumnoForm.get('calificacion')?.hasError('min')">
            La calificación mínima es 0
          </mat-error>
          <mat-error *ngIf="alumnoForm.get('calificacion')?.hasError('max')">
            La calificación máxima es 5
          </mat-error>
        </mat-form-field>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <button mat-raised-button color="primary" type="submit" [disabled]="alumnoForm.invalid">
          {{ isEdit ? 'Actualizar' : 'Crear' }}
        </button>
        <button mat-button type="button" routerLink="/alumnos" class="ms-2">
          Cancelar
        </button>
      </div>
    </div>
  </form>
</div> 